{% extends "account_base.html" %}
{% load static %}
{% block content %} 

<div class="card-body">
  {% if messages %}
  <ul >
    {% for messages in messages %}
    <h3 style="color: lightgreen ;font-size: 20px;  " >{{messages}}</h3>
    {% endfor %}
   </ul>
   {% endif %}
  <ul class="nav nav-pills nav-pills-primary nav-justified">
    <li class="nav-item">
        <a href="javascript:void();" data-target="#profile" data-toggle="pill"
            class="nav-link active show"><i class="icon-user"></i> <span
                class="hidden-xs">Profile</span></a>
    </li>
    <li class="nav-item">
      <a href="javascript:void();" data-target="#order" data-toggle="pill"
          class="nav-link "><i class="icon-user"></i> <span
              class="hidden-xs">orders</span></a>
  </li>
    <li class="nav-item">
        <a href="javascript:void();" data-target="#messages" data-toggle="pill"
            class="nav-link"><i class="icon-envelope-open"></i> <span
                class="hidden-xs">Messages</span></a>
    </li>
    <li class="nav-item">
        <a href="javascript:void();" data-target="#edit" data-toggle="pill" class="nav-link"><i
                class="icon-note"></i> <span class="hidden-xs">Edit</span></a>
    </li>
</ul>
  <div class="tab-content p-3">
    <div class="tab-pane active show" id="profile">
      <h5 class="mb-3">User Profile</h5>
      <div class="row">
        <div class="col-md-7" style="line-height: 2rem;">
          <div class="detail_add"><small >User Name :</small>
            <span >{{user.username}}</span></div>
          <div class="detail_add"><small>First Name :</small>
            <span>{{user.first_name}}</span></div>
          <div class="detail_add"><small>Last Name :</small>
            <span>{{user.last_name}}</span></div>
          <div class="detail_add"><small>Phone Number :</small>
            <span>{{user.customer_number}}</span></div>
          <div class="detail_add"><small>Email :</small>
            <span>{{user.email}}</span></div>
          <div class="_add"><small class="detail_add">Current Address </small><br>
            {% if user.current_address.name %}
            <span class="span">{{user.current_address.name}}</span><br>
            <span class="span">{{user.current_address.call_number}}</span><br>
            <span class="span">{{user.current_address.house_name}}</span><br>
            <span class="span">{{user.current_address.lanmark}}</span><br>
            <span class="span">{{user.current_address.post}}</span><br>
            <span class="span">{{user.current_address.city}}</span><br>
            <span class="span">{{user.current_address.state}}</span><br>
            <span class="span">{{user.current_address.picode}}</span><br>
            <a href="current_address{{user.id}}"><button class='a_button'> CHENGE</button></a>
              {% else %}
              <a href="current_address{{user.id}}"><button class='a_button'> +</button>
                {% endif %}
            </div>
        
        </div><br>
     
        <div class="col-md-12">
          <h5 class="mt-2 mb-3"><span class="fa fa-clock-o ion-clock float-right"></span> Other Address</h5>
          <table class="table table-hover table-striped">
            <tbody>
              {% for i in address %}
              <div style="border-bottom: 2px solid #cdcdcd;"><small class="detail">Address{{i.id}} </small><br>
                
                <div class="detail span">
                  <span class="span">{{i.name}}</span><br>
                  <span class="span">{{i.call_number}}</span><br>
                  <span class="span">{{i.house_name}}</span><br>
                  <span class="span">{{i.lanmark}}</span><br>
                  <span class="span">{{i.post}}</span><br>
                  <span class="span">{{i.city}}</span><br>
                  <span class="span">{{i.state}}</span><br>
                  <span class="span">{{i.picode}}</span><br>
                  <a href="edit_address{{user.id}}/{{i.id}}" ><button class='a_button'>Edit</button></a>
                  <a href="delete_address{{user.id}}/{{i.id}}" ><button class='a_button_del'>Delete</button></a><br>
                </div>
              </div>
              {% endfor %}
            </tbody>
            <a href="add_address"><button class='a_button'> &nbsp;+&nbsp;</button></a>
          </table>
        </div>
      </div>
    </div>
    <div class="tab-pane" id="messages">
      <div class="alert alert-info alert-dismissible" role="alert">
        {% comment %} <button type="button" class="close" data-dismiss="alert"> &nbsp;+GHK &nbsp; _</button> {% endcomment %}
        <div class="alert-icon">
          <i class="icon-info"></i>
        </div>
        <div class="alert-message">
          <span><strong>Info!</strong> Lorem Ipsum is simply dummy text.</span>
        </div>
      </div>
      <table class="table table-hover table-striped">
        <tbody>
          <tr>
            <td>
              <span class="float-right font-weight-bold">3 hrs ago</span> Here is your a link to the latest summary report from the..
            </td>
          </tr>
          <tr>
            <td>
              <span class="float-right font-weight-bold">Yesterday</span> There has been a request on your account since that was..
            </td>
          </tr>
          <tr>
            <td>
              <span class="float-right font-weight-bold">9/10</span> Porttitor vitae ultrices quis, dapibus id dolor. Morbi venenatis lacinia rhoncus.
            </td>
          </tr>
          <tr>
            <td>
              <span class="float-right font-weight-bold">9/4</span> Vestibulum tincidunt ullamcorper eros eget luctus.
            </td>
          </tr>
          <tr>
            <td>
              <span class="float-right font-weight-bold">9/4</span> Maxamillion ais the fix for tibulum tincidunt ullamcorper eros.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="tab-pane" id="order">
      {% comment %}<div class="alert alert-info alert-dismissible" role="alert">
         <button type="button" class="close" data-dismiss="alert"> &nbsp;+GHK &nbsp; _</button> {% endcomment %}
        {% comment %} <div class="alert-icon">
          <i class="icon-info"></i>
          
        </div>
         
      </div>{% endcomment %}
      {% comment %} <table class="table table-hover table-striped" id="order_table">
        <table class="cart-table">
							<thead class="cart-table-head">
								<tr class="table-head-row">
									<th class="product-remove">Order ID</th>
									<th class="product-image">Order date</th>
									<th class="product-name">Status</th>
									<th class="product-price">Price</th>
									<th class="product-quantity">Expeted</th>
									<th class="product-total">show</th>
								</tr>
							</thead>
							<tbody>
								{% for i in order %}
								<tr class="table-body-row a_order">
									<td class="user_order name">{{i.order_id}}</a></td>
									<td class="user_order">{{i.created}}</td>
									<td class="user_order status">{{i.status}}</td>
                  <td class="user_order">{{i.total_price}}₹</td>
									# <td class="user_order-quantity">{{}}</td> 
									<td class="user_order">{{i.expect}}</td>
                  <td class="user_order"><button class="order_details">Details</button></td>
								</tr>
								{% endfor %}
							</tbody>
             # {% comment %} <button id="order_deteils">Details</button> 
						</table>
      </table> {% endcomment %}
      <table class="table table-hover table-striped" id="order_table">
        <thead class="cart-table-head">
            <tr class="table-head-row">
                <th class="product-remove">Order ID</th>
                <th class="product-image">Order date</th>
                <th class="product-name">Status</th>
                <th class="product-price">Price</th>
                <th class="product-quantity">Expeted</th>
                <th class="product-total">show</th>
            </tr>
        </thead>
        <tbody>
            {% for i in order %}
            <tr class="table-body-row a_order">
                <td class="user_order name">{{i.order_id}}</td>
                <td class="user_order">{{i.created}}</td>
                <td class="user_order status" {% if i.status == 'Pending' %}  style="color: orangered;" {% elif i.status == 'Cancel' %} style='color: red;' {% elif i.status == 'Deliverd' %} style='color: green;' {% endif %}>{{i.status}}</td>
                <td class="user_order">{{i.total_price}}₹</td>
                {% comment %} <td class="user_order-quantity">{{}}</td> {% endcomment %}
                <td class="user_order">{{i.expect}}</td>
                <td  ><a href="detail_page{{i.id}}"><button class="order_details" >Details</button></a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    </div>
    <div class="tab-pane" id="edit">
      <form action="edit_user{{user.id}}" method='POST' enctype="multipart/form-data"> 
        {% csrf_token %}
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">First name</label>
          <div class="col-lg-9">
            <input class="form-control" type="text" value="{{user.first_name}}" placeholder="{{user.first_name}}" name="first_name" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Last name</label>
          <div class="col-lg-9">
            <input class="form-control" type="text" value="{{user.last_name}}" placeholder="{{user.last_name}}" name="last_name" />
          </div>
        </div>
        
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Change profile</label>
          <div class="col-lg-9">
            <input class="form-control" type="file" placeholder="{{user.user_dp}}" name="image"/>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Username</label>
          <div class="col-lg-9">
            <input class="form-control" type="text" value="{{user.username}}" placeholder="{{user.username}}" name="username"/>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Phone Number</label>
          <div class="col-lg-9">
            <input class="form-control" type="text" value="{{user.customer_number}}" placeholder="{{user.customer_number}}" name="number" />
          </div>
        </div>
        {% comment %} <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Email</label>
          <div class="col-lg-9">
            <input class="form-control" type="email" value="{{user.email}}" placeholder="{{user.email}}" />
          </div>
        </div> {% endcomment %}
        {% comment %} <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Address</label>
          <div class="col-lg-9">
            <input class="form-control" type="text" value placeholder="Street" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label"></label>
          <div class="col-lg-6">
            <input class="form-control" type="text" value placeholder="City" />
          </div>
          <div class="col-lg-3">
            <input class="form-control" type="text" value placeholder="State" />
          </div>
        </div> {% endcomment %}
        
        {% comment %} <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Password</label>
          <div class="col-lg-9">
            <input class="form-control" type="password" value="11111122333" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Confirm password</label>
          <div class="col-lg-9">
            <input class="form-control" type="password" value="11111122333" />
          </div>
        </div> {% endcomment %}
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label"></label>
          <div class="col-lg-9">
            <input type="reset" class="btn btn-secondary" value="Cancel" />
            <button class="btn btn-primary" type="submit">Save Changes</button>
            {% comment %} <input type="button" class="btn btn-primary" value="Save Changes" /> {% endcomment %}
          </div>
        </div>
      </form>
      <a href="chenge_password"><button class="edit_button">Chenge Password</button></a>
      <a href="chenge_email"><button class="edit_button">Chenge Email</button></a>
    </div>
    
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- JavaScript code -->
{% comment %} <script>
  $(document).ready(function() {
      $(".order_details").click(function(id) {
        var orderId = $(this).data('order-id');
      // Pass the order ID to your function or use it as needed
      console.log("Clicked on Details button for order ID:", orderId);
          {% comment %} alert("Hello"); 
          $("#order_table").hide();
          $("#deteil_page").show();
          
    });
       $("#back").click(function(){
        $("#order_table").show();
        $("#deteil_page").hide();
    });
      
  });
</script> {% endcomment %}

{% endblock %}